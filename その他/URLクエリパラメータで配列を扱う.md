## 背景

[参考](https://medium.com/raml-api/arrays-in-query-params-33189628fa68)

URLクエリパラメータでの配列の取り扱いにハマって苦戦した。

Nuxt - Laravel環境で、
- Nuxt側(vue-router)の想定
  - `?foo=bar&foo=qux`
- LaravelAPI側の想定
  - `?foo[]=bar&foo[]=qux`

Nuxt(というかvue-router)でLaravel側の期待する形に合わせるのが難しく、結果的にBFFでクエリパラメータを整形するという形になった

- 配列の取り扱いは色々あり、フレームワーク依存になる？

## 取り扱い方
### URLで扱う
- URLに状態を持てるので、ユーザーがリンクを共有しやすい
- URLで配列を扱う時の書き方はいくつかあるため、フロントとバックエンドで得意な配列の扱い方が違うとかなりしんどい
- 複雑になると死ぬ

### リクエストボディで扱う
- URLと比べて複雑な操作を扱える
- URLで状態を持てない

### データをリクエストボディで、状態を配列に持つ
- 上記のいいとこ取り？

### BFFで配列の形を合わせる
- 特に不便はないが、リクエストボディで扱う方が得策か

## 結局どうするのがいいんだろうか

- フロントとバックエンドで取り扱い方を予め決めておく
- フロントとバックのデータの取り扱いに関して、URLを使わない
  - POSTリクエストのリクエストボディで扱う
などの設計時点での考慮が必要か
