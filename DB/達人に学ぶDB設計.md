## システム開発

- DOA(Data Oriented Approach)とPOA(Process Oriented Approach)
  - DOAが主流。POAは時代遅れ

- 3層スキーマ
  - 外部スキーマ
    - 外部モデル
    - ビューの世界
    - エンドユーザー
  - 概念スキーマ
    - 論理データモデル
    - テーブルの世界
    - 開発者
  - 内部スキーマ
    - 物理データモデル
    - DBMS内のファイルの世界
    - DBMS

## 論理設計と物理設計

- 論理設計は物理設計に先立つ

- 論理設計のステップ
  1. エンティティの抽出
  2. エンティティの定義
  3. 正規化
  4. ER図の作成

- 正規化
  - システムがテーブル(エンティティ)をスムーズに利用できるように調整する作業
    - 特に更新がスムーズに利用できるようにエンティティのフォーマットを整理する
    - RDBの土台において、正規化が最も重要な土台となる

- 整合性とパフォーマンスはトレードオフ

## 物理設計
今は流し読む程度

- RAID
  - RAIDでは冗長であることが正とされるが、正規化では冗長性を排除することが正とされる

- バックアップの基本
  - 完全バックアップ
    - 安心
    - 負荷が高い
    - 時間が長い
    - システムを止めなければいけない
      - データの整合性をとりたい
  - 差分バックアップ
    - 完全バックアップのファイル + トランザクションファイル
      - データを累積的に保持する
    - 両方のファイルを正常に読み込まなければいけない
    - トランザクションファイルが冗長
  - 増分バックアップ
    - 累積しない差分バックアップ
      - 差分バックアップから冗長な部分を排除したもの
    - 最も軽量
    - 復旧が最も複雑

- リカバリとリストア
  - リストア: フルバックアップファイルをDBに戻す
  - リカバリ: 差分バックアップファイルをDBに戻す
  - ロールフォワード: トランザクションログをDBに戻す

## 正規化

- 「テーブル名は全て複数形で書ける。そうでなければそのテーブルはおかしい」

- 主キー
  - レコードを特定する。テーブルに対して一意
- 複合キー
  - 複数のカラムを組み合わせて一意にしたもの
- 外部キー
  - レコード
