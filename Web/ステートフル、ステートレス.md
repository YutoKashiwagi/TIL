# ステートフル、ステートレスについて

## ステートフル、ステートレスとは
[参考](https://qiita.com/mtakehara21/items/efcbbc3ba58a62c10eb6)

## メリット、デメリット
[メリット、デメリット](https://blog.sojiro.me/blog/2014/09/13/stateful-and-stateless/)

## ステートフルのままスケールさせるとき
### そもそもステートフルはなぜスケールアウトに向かないのか
- サーバー側、もしくはサーバー本体がセッション情報を持たなければいけないため、ユーザー数の増加につれてサーバー側の負荷が大きくなる
- サーバー側、もしくはサーバー本体にセッション情報を持たせているため、ステートレス認証のように「サーバーを増やして負荷に対応」という対処ができない

### ステートフルのままスケールさせるとき
- セッション情報をサーバー外に保持させ、サーバーにそこを見に行かせる
  - 候補
    - DB: DBへの問い合わせが発生するため、遅くなりがち
    - Redis: 一般的にはこちらを使う

Redisにセッション情報を持たせ、サーバーをそこへ参照させることでサーバーの負荷を減らしてステートフル認証することができる

[Redisについての参考記事](https://tech-blog.rakus.co.jp/entry/2017/10/17/111828)
